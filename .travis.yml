sudo: required
language: node_js
node_js:
  - node
services:
  - mysql
before_install:
  - sudo apt-get install mysql-utilities
  - mysql -e 'CREATE USER 'queue'@'localhost'; GRANT ALL PRIVILEGES ON *.* TO 'queue'@'localhost'; CREATE DATABASE queue;'
script:
  - npm run build
  - ./tools/diff_databases.sh
  - npm run test
  - npm run lint-js
  - npm run prettier-diff
cache:
  directories:
    - "node_modules"
